// Kerbalism v1.1
// MoreHitchhickers
// created: 23 Nov 21 - Ve

@PART[crewCabin1875t,crewCabin1875,crewCabin1875f,crewCabin125t,crewCabin125,crewCabin125xt,crewCabin500,crewCabin500f,crewCabin375t,crewCabin375,crewCabin375f,crewCabin250t,crewCabin250f]:AFTER[KerbalismDefault]
{
	%mh_surface_scale = 1
}

@PART[crewCabin1875t,crewCabin1875,crewCabin1875f,crewCabin125t,crewCabin125,crewCabin125xt,crewCabin500,crewCabin500f,crewCabin375t,crewCabin375,crewCabin375f,crewCabin250t,crewCabin250f]:HAS[#rescaleFactor]:AFTER[KerbalismDefault]
{
	// surface is square of cylinder scale
	@mh_surface_scale *= #$rescaleFactor$
	@mh_surface_scale *= #$rescaleFactor$
}

@PART[crewCabin1875t,crewCabin1875,crewCabin1875f,crewCabin125t,crewCabin125,crewCabin125xt,crewCabin500,crewCabin500f,crewCabin375t,crewCabin375,crewCabin375f,crewCabin250t,crewCabin250f]:HAS[@MODEL:HAS[#scale]]:AFTER[KerbalismDefault]
{
	// take the first model x and y scale for surface, assume z=x
	@mh_surface_scale *= #$MODEL/scale[0]$
	@mh_surface_scale *= #$MODEL/scale[1]$
}


@PART[crewCabin1875t,crewCabin1875,crewCabin1875f,crewCabin125t,crewCabin125,crewCabin125xt,crewCabin500,crewCabin500f,crewCabin375t,crewCabin375,crewCabin375f,crewCabin250t,crewCabin250f]:AFTER[KerbalismDefault]
{
	@MODULE[Habitat]
	{
		%volume = 2.3
		@volume *= #$../CrewCapacity$
		%surface = 16.0
		@surface *= #$../mh_surface_scale$
	}
	//!mh_surface_scale = 0
}
