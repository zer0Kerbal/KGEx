PART
{
	name = DEMVMark4
	module = Part
	author = BobCat, CrashnBurn 

//Powered by Cleverwalrus' cleverbobcat.dll, based on Tosh's cart.dll

	mesh = model.mu

	scale = 1
	rescaleFactor = 1

// --- node definitions ---
// definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z
// node_stack_top = 0.0, -0.05, 0.0, 0.0, 1, 0
// node_stack_bottom = 0.0, -0.3, 0, 0.0, 1, 0
node_stack_top = 0.0, -0.05, 0.0, 0.0, 1.0, 0.0, 0
node_stack_bottom = 0.0, -0.3, 0.0, 0.0, -1.0, 0.0, 0
node_attach = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0
CoMOffset = 0, -0.3, 0

//add
TechRequired = start
entryCost = 6000
bulkheadProfiles = size1,srf

cost = 4200
category = Utility
subcategory = 0
manufacturer = BobCat
title = DEMV Mk4 Chassis
description = Wait, you mean it doesn't move? Then you need this to make it move! From some miracle of science, this chassis actually propels your RAT! How cool is that?  <I>/<K> to move, <J>/<L> to turn, <N> to brake (or <B> to toggle), <U> for headlights, <O> for cruise control, and <G> to deploy/retract wheels.

// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
attachRules = 1,0,1,1,0

mass = 2
dragModelType = default
maximum_drag = 0.2
minimum_drag = 0.2
angularDrag = 2
crashTolerance = 50 // 1e30
breakingForce = 200 // 1e30
breakingTorque = 200 // 1e30
maxTemp = 2000 // 3400

	// --- Animation Setup ---
	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = ant_deploy
		startEventGUIName = Raise Antenna
		endEventGUIName = Retract Antenna
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = hatch_open
		startEventGUIName = Open Hatch
		endEventGUIName = Close Hatch
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = bumper
		startEventGUIName = Open Hatch
		endEventGUIName = Close Hatch
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = cart
		startEventGUIName = Open Hatch
		endEventGUIName = Close Hatch
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = light_head
		startEventGUIName = Open Hatch
		endEventGUIName = Close Hatch
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = rotatingLever
		startEventGUIName = Open Hatch
		endEventGUIName = Close Hatch
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = wheels
		startEventGUIName = Open Hatch
		endEventGUIName = Close Hatch
	}

// ---------- ROVER PARAMETERS ---------- 

// MODULE
// {
	// name = ModuleCleverWheeledVehicle

// forwardTorque = 1.8
// backwardTorque = 1.4
// brakeTorque = 4
// frictionTorque = 0.037

// forwardFriction = 2
// sidewaysFriction = 1

// maxSteerAngle = 15
// steerLimitSpeed = 4
// steerSpeedFalloff = 4
// steerVisibility = 2

// wheelMass = 0.2
// suspensionSpring = 7
// suspensionDamper = 0.1
// deployable = true
// deployTime = 4

// compensationLowGee = 1
// compensationSpeed = 0.3 

// lightIntensity = 0.5
// headLightIntensity = 1
// lightRange = 10
// headLightRange = 1000
// lightSpotAngle = 120
// headLightSpotAngle = 70

// headLightColor = 0.8, 1, 1
// stopLightColor = 1, 0, 0
// parkingLightColor = 1, 0.92, 0

// keyToggleLights = u
// keyBrake = n
// keyHandBrake = b

// axisMotor = Y Reversed
// axisSteer = X Reversed

// fuelName = ElectricCharge
    // idleFuelDrainPerSecond = 0.1
	// lightsFuelDrainPerSecond = 0.01	
	// fuelDrainMeterSecondMultiplier = 0.015
	// brakeRegenMeterSecondMultiplier = 0.015
// }
}